# Migrating from Botbuilder SDK to Teams AI.

Previously, users developing bots for Teams and Microsoft 365 apps had to use the BotBuilder SDK directly. This SDK is designed to help you build bots that can interact with Teams and Microsoft 365 apps.

While one of the exciting features of this SDK is the AI support that customers will be able to migrate to, your team's first goals might be simply update your current bot without AI.

### New activity handler class, Old activity handling method

In the BotFramework SDK the Bot class extended the `TeamsActivityHandler` class. In Teams AI you will replace that with the `Application<TurnState, TurnStateManager>` class.

Old:
```C#
public class EchoBot : TeamsActivityHandler { }
```

New:
```C#
public class EchoBot : Application<TurnState, TurnStateManager> {

    public EchoBot(ApplicationOptions<TurnState, TurnStateManager> options) : base(options) {}

}
```

>The `TurnState` and `TurnStateManager` are classes that make up the turn state infrastructure. The generic types in the `Application` class allow users to customize the shape of the turn state.

The activity handling method is the same for both `TeamsActivityHandler` and `Application` class, except for a few nuances. 

#### New turn state parameter:

_Old:_
```C#
protected virtual Task OnMessageActivityAsync(ITurnContext<IMessageActivity> turnContext, CancellationToken cancellationToken);
```

_New:_
```C#
protected virtual Task OnMessageActivityAsync(ITurnContext<IMessageActivity> turnContext, TState turnState, CancellationToken cancellationToken);
```

#### Dropped the `Teams` prefix:

_Old:_
```C#
protected virtual Task OnTeamsChannelCreatedAsync(ChannelInfo channelInfo, TeamInfo teamInfo, ITurnContext<IConversationUpdateActivity> turnContext, TState turnState, CancellationToken cancellationToken);
```

_New:_
```C#
protected virtual Task OnChannelCreatedAsync(ChannelInfo channelInfo, TeamInfo teamInfo, ITurnContext<IConversationUpdateActivity> turnContext, TState turnState, CancellationToken cancellationToken);
```

#### Reordering parameters for consistency:

_Old:_
```C#
protected virtual Task<SearchInvokeResponse> OnSearchInvokeAsync(ITurnContext<IInvokeActivity> turnContext, SearchInvokeValue invokeValue, CancellationToken cancellationToken);
```

_New:_
```C#
protected virtual Task<SearchInvokeResponse> OnSearchInvokeAsync(SearchInvokeValue invokeValue, ITurnContext<IInvokeActivity> turnContext, TState turnState, CancellationToken cancellationToken);
```

For every activity handler method in the BotFramework SDK users can replace it with a correspond method in the `Application` class.

This is all it takes to port over to Teams AI.
